*** Settings ***
Library           Selenium2Library
Resource          prodcat_resource.txt
Resource          ../resource.txt



*** Keywords ***
Edit Product
    [Arguments]    ${catalogName}    ${productName}  
    Open Products List
    Click Element    xpath=//span[contains(text(), '${productName}')]
    Click Button    ${PRODLIST.EDIT_BUTTON}

Fill Up New Version Form
    [Arguments]    ${effectivefromdate}    ${effectiveuntildate}
    Click Element    ${PRODCAT.CREATE_NEW_VERSION}

Save Version
    Click Button    ${TEMPVER.VERSION_SAVE}

Select Version To Archive
    [Arguments]    ${short_effective_date}
    Click Element    xpath=//span[contains(text(), '${short_effective_date}')]   
    #Click Button    css=i.icon-remove-sign --not getting to the button by css selector TODO: title selector
    Click Button    xpath=//div[@id='fullscreen-wrapper']/div/div/div/div/ul/li[2]/button[3]
    Click Button    css=div.messageContents > nav.inline-toolbar > button

Verify New Version Created
    [Arguments]    ${effectivefromdateshort}
    Wait Until Element Is Visible    xpath=//span[contains(text(), '${effectivefromdateshort}')]

Verify New Version cannot be created
    Fill Up New Version Form
    Save Version
    Page Should Contain Element    ${TEMPVER.ALERT_SECTION}

Verify Version has been archived
    [Arguments]    ${effectivefromdateshort}
    Page Should Not Contain Element    xpath=//span[contains(text(), '${effectivefromdateshort}')]
