*** Settings ***
Library           Selenium2Library
Resource          prodcat_resource.txt
Resource          ../resource.txt
Resource          ../UI_map.txt



*** Keywords ***
Edit Product
    [Arguments]    ${catalogName}    ${productName}
    Wait Until Element Is Visible    xpath=//span[contains(text(), '${catalogName}')]  
    Open Products List
    Wait Until Element Is Visible    xpath=//span[contains(text(), '${productName}')]
    Click Element    xpath=//span[contains(text(), '${productName}')]
    Wait Until Element Is Visible    ${PRODLIST.EDIT_BUTTON}
    Click Button    ${PRODLIST.EDIT_BUTTON}
    Wait Until Page Contains Element    ${TEMPVER.NEW_VERSION_BUTTON}
      
    

Fill Up New Version Form
    [Arguments]    ${effectivefromdate}    ${effectiveuntildate}
    Click Element    ${TEMPVER.NEW_VERSION_BUTTON}
    #TODO: pick dates
    Wait Until Page Contains Element    ${TEMPVER.VERSION_EFFECTIVE_FROM}

Save Version
    Click Button    ${TEMPVER.VERSION_SAVE}

Select Version To Archive
    [Arguments]    ${short_effective_date}
    Click Element    xpath=//span[contains(text(), '${short_effective_date}')]   
    #Click Button    css=i.icon-remove-sign --not getting to the button by css selector TODO: title selector
    Click Button    xpath=//div[@id='fullscreen-wrapper']/div/div/div/div/ul/li[2]/button[3]
    Click Button    css=div.messageContents > nav.inline-toolbar > button

Verify New Version Created
    [Arguments]    ${effectivefromdateshort}
    Wait Until Element Is Visible    xpath=//span[contains(text(), '${effectivefromdateshort}')]

#New Version cannot be created : New Version button is not visible
Verify New Version cannot be created
    Page Should Not Contain Element    ${TEMPVER.NEW_VERSION_BUTTON}
    

Verify Version has been archived
    [Arguments]    ${effectivefromdateshort}
    Page Should Not Contain Element    xpath=//span[contains(text(), '${effectivefromdateshort}')]
