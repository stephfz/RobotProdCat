*** Settings ***
Library           Selenium2Library
Resource          ../resource.txt

*** Variables ***
#UI Elements
${PRODCAT.CREATE_CATALOG}    css=i.icon-plus-sign
${PRODCAT.CATALOG_NAME_INPUT}    catalog-name
${PRODCAT.SAVE_CATEGORY}    btnSaveCategory
${PRODCAT.SAVE_VERSION}    xpath=//div[@id='fullscreen-wrapper']/div/div/div[2]/div/h1/nav/button[3]
${PRODCAT.CREATE_PRODUCT}    css=i.icon-save

*** Keywords ***
Open Product Composer
    Click Link    Product Composer

Fill Up Catalog Form
    [Arguments]    ${catalogname}
    Click Element    ${PRODCAT.CREATE_CATALOG}
    Input Text    ${PRODCAT.CATALOG_NAME_INPUT}    ${catalogname}

Save New Catalog
    Click Button    btnSaveProductCatalog

Verify Catalog has been created
    [Arguments]    ${catalogname}
    Element Text Should Be    css=h2.subheading > span    ${catalogname}

Fill Up Category Form
    [Arguments]    ${categoryName}
    Click Element    xpath=//div[@class='tree-node-main']
    Click Element    xpath=//div[@id='help-step4']/div/div/div/div/div/div/div/nav/button[3]
    Input Text    category-name    ${categoryName}

Save New Product Category
    Click Button    ${PRODCAT.SAVE_CATEGORY}

Open Schema
    Click Element    ${LEFTMENU.SCHEMA}

Open Launch Product
    Click Element    ${LEFTMENU.LAUNCH_PRODUCT}

Open Products List
    Click Element    ${LEFTMENU.PRODUCTS}

Fill Up Product Form
    [Arguments]    ${productName}    ${categoryName}
    Input Text    product-name    ${productName}
    Select From List    product-template-category    Root Â» ${categoryName}
    Click Element    ${PRODCAT.CREATE_PRODUCT}

Save Draft Product Version
    Click Element    ${PRODCAT.SAVE_VERSION}

Verify Product is Listed on Live Products List
    [Arguments]    ${productName}
    Click Element    xpath=//a[@class='back-button']
    Open Products List
    Wait Until Page Contains Element    xpath=//span[contains(text(), '${productName}')]
